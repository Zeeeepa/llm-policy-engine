apiVersion: v1
kind: Secret
metadata:
  name: llm-policy-engine-database
  namespace: llm-devops
  labels:
    app: llm-policy-engine
    component: policy
    secret-type: database
    managed-by: sealed-secrets
    environment: ${ENVIRONMENT}
    version: v1.0.0
    rotation-policy: automated
  annotations:
    description: "Database credentials and connection parameters for LLM Policy Engine"
    docs-url: "https://github.com/organization/llm-policy-engine/docs/secrets-management.md"
    rotation-schedule: "0 0 1 * *"
    last-rotation: "${LAST_ROTATION_DATE}"
    sealedsecrets.bitnami.com/managed: "true"
type: Opaque
stringData:
  database-host: ${DATABASE_HOST}
  database-port: ${DATABASE_PORT}
  database-username: ${DATABASE_USERNAME}
  database-password: ${DATABASE_PASSWORD}
  database-name: ${DATABASE_NAME}
  database-ssl-mode: ${DATABASE_SSL_MODE}
  database-url: postgresql://${DATABASE_USERNAME}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}?sslmode=${DATABASE_SSL_MODE}
